1 Не соблюдены принципы DRY.
2.Не привязаны обработчики.
3.Не до конца продумана логика.
Я СПЕЦИАЛЬНО ИЗМЕНИЛ РАСШИРЕНИЕ ФАЙЛОВ, ЯТОБЫ ОБОЙТИ БЛОКИРОВКУ GMAIL. 